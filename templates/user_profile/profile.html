{% extends "layouts/base.html" %}
{% load static %}

{% block content %}
  <section>
    <div class="flex flex-row justify-center items-center gap-10 flex-1 text-black container-padding h-screen">
        <div class="flex flex-1 max-w-[20%]">
            <div class="flex flex-col flex-1 bg-white p-3 h-[320px] rounded-md">
                <div class="flex flex-col justify-center items-center h-full">
                    <img src="/media/{{profile.image}}" width="80" alt="profile">
                    <p> {{ profile.user.username }} </p>
                </div>
                <div class='flex flex-col gap-2'>
                    <button id="profile-button" onclick="switchContent('profile-content')" class="flex justify-center bg-black text-white rounded-md mt-auto profile-border-active">
                        Profile
                    </button>
                    <button id="activity-button" onclick="switchContent('activity-content')" class="flex justify-center bg-black text-white rounded-md mt-auto">
                        Activity
                    </button>
                </div>
            </div>
        </div>
        <div class="w-[75%]">
            <div class="flex flex-col gap-2">
                <div id="profile-content" class="bg-white rounded-md p-3">
                    <p class="text-xl font-bold">Bio Graph</p>
                    <p class="text-0.5xl">Username: {{profile.user.username}}</p>
                    <p class="text-0.5xl">Bio: {{profile.information}}</p>
                    <p class="text-0.5xl">Last seen: {{profile.user.last_login|time}}</p>
                    <p class="text-0.5xl">Date joined: {{profile.user.date_joined|date}}</p>
                </div>
                <div id="activity-content" class="hidden">
                    <div class="grid grid-cols-2 gap-5">
                        {% for enroll in enrolled_courses %}
                            <div class="flex flex-row gap-3 bg-white rounded-md p-3">
                                <img src="/media/{{enroll.course.image}}" class='object-cover' width="50" alt="">
                                <div>
                                    <p>{{ enroll.course.name }}</p>
                                    <p>Start: {{ enroll.created_at }}</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script> // This function i use for switch border by buttons and content inside the divs
        function switchContent(targetId) {
            const profileButton = document.getElementById('profile-button')
            const activityButton = document.getElementById('activity-button')
            const profileContent = document.getElementById('profile-content');
            const activityContent = document.getElementById('activity-content');

            profileContent.classList.toggle('hidden', targetId != 'profile-content')
            activityContent.classList.toggle('hidden', targetId != 'activity-content')
            
            profileButton.classList.toggle('profile-border-active', targetId == 'profile-content')
            activityButton.classList.toggle('profile-border-active', targetId != 'profile-content')
        }
    </script>
  </section>
{% endblock content %}